<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.7" />
    <title>Results – Regression Analysis</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body class="tasks-page">
    <div class="menu-toggle">
      <img src="media/image/home.png" alt="Open menu" />
    </div>

    <div class="dropdown-menu">
      <a href="index.html">Home</a>
      <a href="data.html">Data</a>
      <a href="tasks.html">Results</a>
    </div>

    <header class="hero">
      <video autoplay muted loop playsinline id="background-video">
        <source src="media/video/fondtasks.mp4" type="video/mp4" />
      </video>
      <div class="overlay"></div>
      <div class="hero-content">
        <h1>Results & Model</h1>
      </div>
    </header>

    <main class="main-content">
      <section class="centered-section fade-in">
        <h2>Results - Linear Regression</h2>
        <p>
          Explore the influence of each sound parameter. The further a point is
          from the center, the stronger its impact (positive or negative) on the
          anxiety score.
        </p>
        <div class="results-layout">
          <div id="regression-chart"></div>
          <div id="detail-box" class="detail-card">
            <div id="detail-default">
              <p>Hover over a parameter to analyse its impact on anxiety.</p>
            </div>
            <div id="detail-content" style="display: none">
              <h4 id="det-title"></h4>
              <div class="stats-row">
                <span>Coeff: <strong id="det-coef"></strong></span>
                <span>p: <strong id="det-p"></strong></span>
              </div>
              <p id="det-desc"></p>
              <div class="audio-example">
                <p id="det-audio-legend"></p>
                <audio id="det-audio-player" controls>
                  <source src="" type="audio/mpeg" />
                </audio>
              </div>
            </div>
          </div>
        </div>


              <hr class="section-divider" />
      <section class="centered-section fade-in">
        <h2>Model</h2>
        <p
          style="
            font-size: 1.3rem;
            text-align: center;
            margin-top: 40px;
            color: var(--light-purple);
          "
        >
          The analysis is based on a weighted multivariate linear regression
          (WLS) modeling the relationship between the perceived anxiety score
          and synthesis parameters:
        </p>
        <p style="text-align: center; font-style: italic; margin: 20px 0">
          Yᵢ = β₀ + ∑ⱼ₌₁ᵖ βⱼ·Xᵢⱼ + εᵢ
        </p>
        <p
          style="
            font-size: 1.3rem;
            text-align: center;
            margin-top: 40px;
            color: var(--light-purple);
          "
        >
          <strong>Yᵢ</strong>: mean anxiety score of sound i<br />
          <strong>Xᵢⱼ</strong>: normalized synthesis parameters (ADSR envelope
          of the first oscillator, total number of active oscillators, presence
          of each waveform, number of oscillators with non-zero fine frequency,
          fundamental frequency deviation)<br />
          <strong>βⱼ</strong>: estimated coefficients for each variable<br />
          <strong>εᵢ</strong>: residual error
        </p>
        <p>
          <strong>Weighting</strong>: Each observation is weighted by wᵢ = 1 /
          (σᵢ + ε), where σᵢ is the standard deviation of ratings for sound i
          and ε a regularization constant (median of standard deviations).
          Sounds with more consistent ratings (lower standard deviation) thus
          receive greater weight in parameter estimation.
        </p>
      </section>


        
        <div class="metric-explanation">
          <p
            style="
              font-size: 1.3rem;
              text-align: center;
              margin-top: 40px;
              color: var(--light-purple);
            "
          >
            <strong>Model Performance:</strong> R² = 0.484 : This linear model
            explains <strong>48.4%</strong> of the variance in anxiety scores.
            The remaining variance reflects individual differences in sound
            perception and potential missing parameters not captured by the
            model.
          </p>
        </div>
      </section>

      <hr class="section-divider" />

      <section class="centered-section fade-in">
        <h2>Predictive Neural Network</h2>
        <p>
          We trained a <strong>multi-layer perceptron (MLP)</strong> with two
          hidden layers (64 and 32 neurons) to predict anxiety scores based on
          the same 11 acoustic features. The model learns non-linear
          relationships.
        </p>
        <p>
          <strong>In simple terms:</strong> The neural network acts as a
          "virtual listener" that estimates how anxiogenic a sound will be
          perceived for a test set of unseen data, based on patterns learned
          from 200 rated sounds.
        </p>

        <div class="results-layout">
          <div id="nn-chart"></div>
          <div class="detail-card">
            <div id="nn-detail-default">
              <p>Click on a data point to hear the corresponding sound.</p>
            </div>
            <div id="nn-detail-content" style="display: none">
              <h4>Sound <span id="nn-sound-id"></span></h4>
              <div class="stats-row">
                <span>Actual: <strong id="nn-actual"></strong></span>
                <span>Predicted: <strong id="nn-predicted"></strong></span>
              </div>
              <div class="stats-row">
                <span>Error: <strong id="nn-error"></strong> pts</span>
              </div>
            </div>
          </div>
        </div>

        <div class="nn-metrics">
          <h3
            style="
              text-align: center;
              color: var(--light-purple);
              margin: 50px 0 30px 0;
              font-size: 1.6rem;
            "
          >
            Model Performance Metrics
          </h3>
          <div class="metrics-grid">
            <div class="metric-box">
              <div class="metric-label">Test MAE</div>
              <div class="metric-value">13.59</div>
              <div class="metric-unit">points</div>
            </div>
            <div class="metric-box">
              <div class="metric-label">Test R²</div>
              <div class="metric-value">0.447</div>
              <div class="metric-unit">variance explained</div>
            </div>
          </div>
          <p
            style="
              text-align: center;
              margin-top: 30px;
              font-size: 1.2rem;
              line-height: 1.7;
            "
          >
            It achieves a Mean Absolute Error (MAE) of
            <strong>13.59 points</strong> on unseen test data, meaning
            predictions are typically off by about 14%. The R² of 0.447
            indicates that <strong>44.7% of anxiety variance</strong> is
            captured by acoustic features alone. Again, the remaining variance
            likely stems from the inherently subjective nature of emotional
            responses to sound, or lack of parameters at play.
          </p>
        </div>
      </section>

      <hr class="section-divider" />

      <div class="navigation-buttons fade-in">
        <a href="index.html" class="nav-button">Back to Theory</a>
        <a href="data.html" class="nav-button">Explore the Data</a>
      </div>
    </main>

    <footer class="footer">
      <p>&copy; 2025 Synthesizer & Sound Perception — Lélie Chenouga</p>
      <p>
        <a href="index.html">Home</a> | <a href="data.html">Data</a> |
        <a href="tasks.html">Results</a>
      </p>
    </footer>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/task.js"></script>
  </body>
</html>
